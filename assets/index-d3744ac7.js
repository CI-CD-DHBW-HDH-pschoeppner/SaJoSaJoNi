var Se=Object.defineProperty;var Te=(e,t,n)=>t in e?Se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var p=(e,t,n)=>(Te(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function $(){}function me(e,t){for(const n in t)e[n]=t[n];return e}function Ee(e){return e()}function he(){return Object.create(null)}function B(e){e.forEach(Ee)}function Ae(e){return typeof e=="function"}function V(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ye(e){return Object.keys(e).length===0}function _(e,t){e.appendChild(t)}function M(e,t,n){e.insertBefore(t,n||null)}function E(e){e.parentNode&&e.parentNode.removeChild(e)}function Le(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function y(e){return document.createElement(e)}function T(e){return document.createTextNode(e)}function N(){return T(" ")}function I(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function h(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ne(e){return Array.from(e.childNodes)}function ce(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Ce(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,r,t),o}let K;function q(e){K=e}function $e(){if(!K)throw new Error("Function called outside component initialization");return K}function He(e){$e().$$.on_mount.push(e)}function ie(){const e=$e();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=Ce(t,n,{cancelable:r});return o.slice().forEach(s=>{s.call(e,i)}),!i.defaultPrevented}return!0}}const R=[],_e=[],re=[],ye=[],Re=Promise.resolve();let le=!1;function Ie(){le||(le=!0,Re.then(Me))}function ae(e){re.push(e)}const se=new Set;let H=0;function Me(){if(H!==0)return;const e=K;do{try{for(;H<R.length;){const t=R[H];H++,q(t),Oe(t.$$)}}catch(t){throw R.length=0,H=0,t}for(q(null),R.length=0,H=0;_e.length;)_e.pop()();for(let t=0;t<re.length;t+=1){const n=re[t];se.has(n)||(se.add(n),n())}re.length=0}while(R.length);for(;ye.length;)ye.pop()();le=!1,se.clear(),q(e)}function Oe(e){if(e.fragment!==null){e.update(),B(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ae)}}const oe=new Set;let Be;function U(e,t){e&&e.i&&(oe.delete(e),e.i(t))}function Z(e,t,n,r){if(e&&e.o){if(oe.has(e))return;oe.add(e),Be.c.push(()=>{oe.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function ge(e,t){const n={},r={},o={$$scope:1};let i=e.length;for(;i--;){const s=e[i],l=t[i];if(l){for(const a in s)a in l||(r[a]=1);for(const a in l)o[a]||(n[a]=l[a],o[a]=1);e[i]=l}else for(const a in s)o[a]=1}for(const s in r)s in n||(n[s]=void 0);return n}function pe(e){return typeof e=="object"&&e!==null?e:{}}function ee(e){e&&e.c()}function W(e,t,n,r){const{fragment:o,after_update:i}=e.$$;o&&o.m(t,n),r||ae(()=>{const s=e.$$.on_mount.map(Ee).filter(Ae);e.$$.on_destroy?e.$$.on_destroy.push(...s):B(s),e.$$.on_mount=[]}),i.forEach(ae)}function x(e,t){const n=e.$$;n.fragment!==null&&(B(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function De(e,t){e.$$.dirty[0]===-1&&(R.push(e),Ie(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function z(e,t,n,r,o,i,s,l=[-1]){const a=K;q(e);const c=e.$$={fragment:null,ctx:[],props:i,update:$,not_equal:o,bound:he(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:he(),dirty:l,skip_bound:!1,root:t.target||a.$$.root};s&&s(c.root);let d=!1;if(c.ctx=n?n(e,t.props||{},(m,g,...A)=>{const f=A.length?A[0]:g;return c.ctx&&o(c.ctx[m],c.ctx[m]=f)&&(!c.skip_bound&&c.bound[m]&&c.bound[m](f),d&&De(e,m)),g}):[],c.update(),d=!0,B(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const m=Ne(t.target);c.fragment&&c.fragment.l(m),m.forEach(E)}else c.fragment&&c.fragment.c();t.intro&&U(e.$$.fragment),W(e,t.target,t.anchor,t.customElement),Me()}q(a)}class F{$destroy(){x(this,1),this.$destroy=$}$on(t,n){if(!Ae(n))return $;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!Ye(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function je(e,t){let n=qe(e,t);if(n==-1&&C(e).length>0){let r=!1;for(;!r;)n=Ge(9),e[n]==w.EMPTY&&(r=!0)}return n}function Ue(e,t){const n=C(e),r=new Map;for(const i of n){const s=[...e];s[i]=t,r.set(i,ue(s,S(t),t,!1)),s[i]=w.EMPTY}let o=[-1,-1/0];for(const i of r)i[1]>o[1]&&(o=i);return o[0]}function ue(e,t,n,r){const o=C(e),i=O(e);if(i===n)return 1;if(i===S(n))return-1;if(!o.length)return 0;let s=r?-1/0:1/0;for(const l of o){if(e[l]=t,r){const a=ue(e,S(t),n,!1);s=Math.max(s,a)}else{const a=ue(e,S(t),n,!0);s=Math.min(s,a)}e[l]=w.EMPTY}return s}function We(e,t){const n=C(e);let r=-1;for(const o of n){const i=[...e];if(i[o]=t,O(i)===t){r=o;break}}if(r===-1)for(const o of n){const i=[...e];if(i[o]=S(t),O(i)===S(t)){r=o;break}}return r===-1&&e[4]===w.EMPTY&&(r=4),r===-1&&(r=n[Math.floor(Math.random()*n.length)]),r}function xe(e,t){const n=C(e);for(const r of n){const o=[...e];if(o[r]=S(t),O(o)===S(t))return r}return n[Math.floor(Math.random()*n.length)]}function te(e){switch(e){case v.EASY:return je;case v.PETTY:return xe;case v.MEDIUM:return We;case v.HARD:return Ue;case(v.HUMAN||v.ONLINE):return;default:return}}function qe(e,t){if(!Pe(t))throw new Error(`Player ${t} is not valid`);const n=C(e);for(const r of n){const o=[...e];if(o[r]=t,O(o)===t)return r}return-1}function Ge(e){return Math.floor(Math.random()*e)}var v=(e=>(e[e.EASY=0]="EASY",e[e.PETTY=1]="PETTY",e[e.MEDIUM=2]="MEDIUM",e[e.HARD=3]="HARD",e[e.HUMAN=4]="HUMAN",e[e.ONLINE=5]="ONLINE",e))(v||{}),w=(e=>(e[e.EMPTY=0]="EMPTY",e[e.PLAYER1=1]="PLAYER1",e[e.PLAYER2=2]="PLAYER2",e))(w||{});class ve{constructor(t){p(this,"score",0);p(this,"field");p(this,"botMove");this.field=t}addWin(){this.score++}isHuman(){return this.botMove===void 0}move(t){return this.botMove!==void 0?this.botMove(t,this.field):-1}}class Ke{constructor(t=new ve(1),n=new ve(2),r=0){p(this,"player");p(this,"enemy");p(this,"mode");t.score=0,n.score=0,this.mode=r,this.player=t,this.enemy=n,this.enemy.botMove=te(this.mode)}addWin(t){switch(t){case 1:this.player.addWin();break;case 2:this.enemy.addWin();break}}switchSides(){const t=this.player.botMove;this.player.botMove=this.enemy.botMove,this.enemy.botMove=t;const n=this.player.score;this.player.score=this.enemy.score,this.enemy.score=n}updateMode(t){if(this.mode=t,this.player.isHuman()&&this.enemy.isHuman()&&t!=4){this.enemy.botMove=te(this.mode);return}this.player.isHuman()||(this.player.botMove=te(this.mode)),this.enemy.isHuman()||(this.enemy.botMove=te(this.mode))}}class be{constructor(t){p(this,"finished");p(this,"winner",0);this.winner=O(t),this.finished=Ve(t)||this.winner!==0}isDraw(){return this.finished===!0&&this.winner===0}}function Ve(e){return!e.some(t=>t===0)}function O(e){for(const t of[1,2]){const n=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let r=0;r<n.length;r++){const[o,i,s]=n[r];if(e[o]===t&&e[i]===t&&e[s]===t)return t}}return 0}function ne(){const e=new Array(9);return e.fill(0),e}function C(e){return e.map((t,n)=>t!==0?-1:n).filter(t=>t>=0)}function S(e){return Pe(e)?3-e:0}function Pe(e){return e===1||e===2}function ke(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function we(e){let t,n=e[1](e[11])+"",r,o,i,s;function l(){return e[5](e[13])}function a(){return e[6](e[13])}return{c(){t=y("div"),r=T(n),o=N(),h(t,"class","field svelte-1sape3k"),h(t,"id",e[13].toString())},m(c,d){M(c,t,d),_(t,r),_(t,o),i||(s=[I(t,"click",l),I(t,"keydown",a)],i=!0)},p(c,d){e=c,d&3&&n!==(n=e[1](e[11])+"")&&ce(r,n)},d(c){c&&E(t),i=!1,B(s)}}}function ze(e){let t,n=e[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=we(ke(e,n,o));return{c(){t=y("div");for(let o=0;o<r.length;o+=1)r[o].c();h(t,"id","grid"),h(t,"class","svelte-1sape3k")},m(o,i){M(o,t,i);for(let s=0;s<r.length;s+=1)r[s].m(t,null)},p(o,[i]){if(i&7){n=o[0];let s;for(s=0;s<n.length;s+=1){const l=ke(o,n,s);r[s]?r[s].p(l,i):(r[s]=we(l),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},i:$,o:$,d(o){o&&E(t),Le(r,o)}}}function Fe(e,t,n){let{board:r}=t,{fieldToString:o}=t,{player:i}=t,{enemy:s}=t,l=w.PLAYER1|w.PLAYER2;l=w.PLAYER1;const a=ie();function c(){return l===i.field?i:s}function d(f){m(f,c().field)&&(l=S(l),c().isHuman()||(m(c().move(r),c().field),l=S(l)))}function m(f,u){return r[f]!==w.EMPTY||new be(r).finished?!1:(n(0,r[f]=u,r),n(0,r),!0)}const g=f=>d(f),A=f=>d(f);return e.$$set=f=>{"board"in f&&n(0,r=f.board),"fieldToString"in f&&n(1,o=f.fieldToString),"player"in f&&n(3,i=f.player),"enemy"in f&&n(4,s=f.enemy)},e.$$.update=()=>{if(e.$$.dirty&1){let f=new be(r);f.finished&&a("finished",f)}e.$$.dirty&1&&C(r).length===9&&(l=w.PLAYER1,c().isHuman()||(m(c().move(r),c().field),l=w.PLAYER2))},[r,o,d,i,s,g,A]}class Je extends F{constructor(t){super(),z(this,t,Fe,ze,V,{board:0,fieldToString:1,player:3,enemy:4})}}function Qe(e){let t;return{c(){t=T("ðŸ¤–")},m(n,r){M(n,t,r)},d(n){n&&E(t)}}}function Xe(e){let t;return{c(){t=T("ðŸ‘¨â€ðŸ’»")},m(n,r){M(n,t,r)},d(n){n&&E(t)}}}function Ze(e){let t;return{c(){t=T("ðŸ¤–")},m(n,r){M(n,t,r)},d(n){n&&E(t)}}}function et(e){let t;return{c(){t=T("ðŸ‘¨â€ðŸ’»")},m(n,r){M(n,t,r)},d(n){n&&E(t)}}}function tt(e){let t,n,r,o,i,s=e[0].score+"",l,a,c,d,m,g=e[1].score+"",A,f,u,b,D,J;function fe(k,P){return P&1&&(o=null),o==null&&(o=!!k[0].isHuman()),o?Xe:Qe}let Q=fe(e,-1),Y=Q(e);function de(k,P){return P&2&&(b=null),b==null&&(b=!!k[1].isHuman()),b?et:Ze}let X=de(e,-1),L=X(e);return{c(){t=y("div"),n=y("div"),r=y("i"),Y.c(),i=N(),l=T(s),a=N(),c=y("div"),c.textContent="ðŸ†š",d=N(),m=y("div"),A=T(g),f=N(),u=y("i"),L.c(),h(r,"class","svelte-1gwglwo"),h(n,"id","player1"),h(n,"class","player svelte-1gwglwo"),h(c,"id","versus"),h(c,"class","svelte-1gwglwo"),h(u,"class","svelte-1gwglwo"),h(m,"id","player2"),h(m,"class","player svelte-1gwglwo"),h(t,"id","scoreboard"),h(t,"class","svelte-1gwglwo")},m(k,P){M(k,t,P),_(t,n),_(n,r),Y.m(r,null),_(n,i),_(n,l),_(t,a),_(t,c),_(t,d),_(t,m),_(m,A),_(m,f),_(m,u),L.m(u,null),D||(J=[I(c,"click",e[3]),I(c,"keydown",e[4])],D=!0)},p(k,[P]){Q!==(Q=fe(k,P))&&(Y.d(1),Y=Q(k),Y&&(Y.c(),Y.m(r,null))),P&1&&s!==(s=k[0].score+"")&&ce(l,s),P&2&&g!==(g=k[1].score+"")&&ce(A,g),X!==(X=de(k,P))&&(L.d(1),L=X(k),L&&(L.c(),L.m(u,null)))},i:$,o:$,d(k){k&&E(t),Y.d(),L.d(),D=!1,B(J)}}}function nt(e,t,n){let{player:r}=t,{enemy:o}=t,i=ie();function s(){i("switch")}const l=()=>s(),a=()=>s();return e.$$set=c=>{"player"in c&&n(0,r=c.player),"enemy"in c&&n(1,o=c.enemy)},[r,o,s,l,a]}class rt extends F{constructor(t){super(),z(this,t,nt,tt,V,{player:0,enemy:1})}}function ot(e){let t,n,r,o,i,s,l,a,c,d;return{c(){t=y("nav"),n=y("select"),r=y("option"),r.textContent="ðŸ¤–",o=y("option"),o.textContent="ðŸ¤–âž•",i=y("option"),i.textContent="ðŸ¤–â—",s=y("option"),s.textContent="â—ðŸ¤–â—",l=y("option"),l.textContent="ðŸ‘¨â€ðŸ’»",a=y("option"),a.textContent="ðŸ‘¨â€ðŸ’» / ðŸ‘¨â€ðŸ’»",r.__value="easy",r.value=r.__value,h(r,"class","svelte-17bkcmu"),o.__value="petty",o.value=o.__value,h(o,"class","svelte-17bkcmu"),i.__value="medium",i.value=i.__value,h(i,"class","svelte-17bkcmu"),s.__value="hard",s.value=s.__value,h(s,"class","svelte-17bkcmu"),l.__value="human",l.value=l.__value,h(l,"class","svelte-17bkcmu"),a.__value="online",a.value=a.__value,a.disabled=!0,h(a,"class","svelte-17bkcmu"),h(n,"id","mode"),h(n,"class","svelte-17bkcmu"),h(t,"class","svelte-17bkcmu")},m(m,g){M(m,t,g),_(t,n),_(n,r),_(n,o),_(n,i),_(n,s),_(n,l),_(n,a),c||(d=I(n,"change",e[0]),c=!0)},p:$,i:$,o:$,d(m){m&&E(t),c=!1,d()}}}function it(e){const t=ie();function n(r){let o=r.target.value,i=v.EASY;switch(o){case"easy":i=v.EASY;break;case"petty":i=v.PETTY;break;case"medium":i=v.MEDIUM;break;case"hard":i=v.HARD;break;case"human":i=v.HUMAN;break;case"online":i=v.ONLINE;break;default:i=v.EASY;break}t("change",i)}return[n]}class st extends F{constructor(t){super(),z(this,t,it,ot,V,{})}}class j{constructor({primary:t,secondary:n,primaryAccent:r,secondaryAccent:o,background:i,name:s}){p(this,"primary");p(this,"secondary");p(this,"primaryAccent");p(this,"secondaryAccent");p(this,"background");p(this,"name");this.primary=t,this.secondary=n,this.primaryAccent=r,this.secondaryAccent=o,this.background=i,this.name=s}CSS(){return`--primary: ${this.primary}; --secondary: ${this.secondary}; --primaryAccent: ${this.primaryAccent}; --secondaryAccent: ${this.secondaryAccent}; --background: ${this.background}`}}const G=[new j({primary:"#1e1f26",secondary:"#bdc3c7",primaryAccent:"#3498db",secondaryAccent:"#2980b9",background:"#2c3e50",name:"Midnight blue"}),new j({primary:"#ffd700",secondary:"#616161",primaryAccent:"#8c7853",secondaryAccent:"#c5cae9",background:"#121212",name:"Black and gold"}),new j({primary:"#4e9a06",secondary:"#f7e267",primaryAccent:"#edd400",secondaryAccent:"#ce5c00",background:"#1b1b1b",name:"Dark green"}),new j({primary:"#8e24aa",secondary:"#ffd54f",primaryAccent:"#ffb300",secondaryAccent:"#e65100",background:"#121212",name:"Vibrant purple"}),new j({primary:"#008080",secondary:"#ffe0b2",primaryAccent:"#ffab91",secondaryAccent:"#4a148c",background:"#232323",name:"Teal blue"})];function ct(e){let t,n,r,o,i;return{c(){t=y("button"),n=T("ðŸŽ¨"),h(t,"title",r=G[e[0]].name),h(t,"class","svelte-tojmix")},m(s,l){M(s,t,l),_(t,n),o||(i=I(t,"click",e[2]),o=!0)},p(s,[l]){l&1&&r!==(r=G[s[0]].name)&&h(t,"title",r)},i:$,o:$,d(s){s&&E(t),o=!1,i()}}}function lt(e,t,n){const r=ie();let o=0;He(()=>{r("changed",G[o])});function i(){n(0,o=(o+1)%G.length),r("changed",G[o])}return[o,i,()=>i()]}class at extends F{constructor(t){super(),z(this,t,lt,ct,V,{})}}function ut(e){let t,n,r,o,i,s,l,a,c,d;n=new st({}),n.$on("change",e[5]);const m=[e[1]];let g={};for(let u=0;u<m.length;u+=1)g=me(g,m[u]);o=new rt({props:g}),o.$on("switch",e[6]),s=new at({}),s.$on("changed",mt);const A=[{board:e[0]},{fieldToString:e[2]},e[1]];let f={};for(let u=0;u<A.length;u+=1)f=me(f,A[u]);return c=new Je({props:f}),c.$on("finished",e[3]),{c(){t=y("header"),ee(n.$$.fragment),r=N(),ee(o.$$.fragment),i=N(),ee(s.$$.fragment),l=N(),a=y("main"),ee(c.$$.fragment),h(t,"class","svelte-3o9bc2"),h(a,"class","svelte-3o9bc2")},m(u,b){M(u,t,b),W(n,t,null),_(t,r),W(o,t,null),_(t,i),W(s,t,null),M(u,l,b),M(u,a,b),W(c,a,null),d=!0},p(u,[b]){const D=b&2?ge(m,[pe(u[1])]):{};o.$set(D);const J=b&7?ge(A,[b&1&&{board:u[0]},b&4&&{fieldToString:u[2]},b&2&&pe(u[1])]):{};c.$set(J)},i(u){d||(U(n.$$.fragment,u),U(o.$$.fragment,u),U(s.$$.fragment,u),U(c.$$.fragment,u),d=!0)},o(u){Z(n.$$.fragment,u),Z(o.$$.fragment,u),Z(s.$$.fragment,u),Z(c.$$.fragment,u),d=!1},d(u){u&&E(t),x(n),x(o),x(s),u&&E(l),u&&E(a),x(c)}}}const ft="âŒ",dt="â­•";function mt({detail:e}){let t=Object.entries(e);for(let n of t)typeof n[1]=="string"&&document.documentElement.style.setProperty(`--${n[0]}`,`${n[1]}`)}function ht(e,t,n){let r=ne(),o=new Ke,i=d=>{switch(d){case w.EMPTY:return"";case w.PLAYER1:return ft;case w.PLAYER2:return dt}};function s(d){d.detail.isDraw()||(o.addWin(d.detail.winner),n(1,o)),setTimeout(()=>n(0,r=ne()),1e3)}function l(){n(0,r=ne()),o.switchSides(),n(1,o)}function a({detail:d}){o.updateMode(d),n(1,o),n(0,r=ne())}return[r,o,i,s,l,a,()=>l()]}class _t extends F{constructor(t){super(),z(this,t,ht,ut,V,{})}}new _t({target:document.getElementById("app")});
